# telegaCalcBot

TelegaCalcBot - это бот для телеграмма, который позволяет вести учет долгов двух людей друг перед другом.

# Как пользоваться?
Создаете чат, приглашаете туда второго человека и бота. (@ZaprosCalcBot - текущая версия в проде)  \
Выполняете команду 
```sh
/limit
```
С этого момента бот начинает считать.

Формат записи долгов: "сумма долга" "примечание" \
Например:
```sh
5000 до зарплаты
1500 на ремонт
400 KFC
```

После того как вы расчитаетесь друг с другом, просто вновь выполните команду /limit. Бот начнет считать заново.

# Разработка:
Для запуска необходимо:

Создать файл .env со следующим содержимым (за основу можно взять файл .env.example):
DB_CONNECTION=token
TELEGRAM_TOKEN=token

В качестве БД используется монга. Я использую бесплатную версию на https://cloud.mongodb.com/
Там мы и создаем токен DB_CONNECTION

https://core.telegram.org/bots/api - API бота телеги. 
Тут мы создаем бота и получаем токен TELEGRAM_TOKEN

Настройка Telegram Bot webHook:
https://api.telegram.org/bot{my_bot_token}/setWebhook?url={url_to_send_updates_to}
my_bot_token - токен, полученный у @BotFather
url_to_send_updates_to - урл, на который будет ходить телеграмм в случае получения ботом нового сообщения (должен быть HTTPS)

Узнать текущий токен можно у @BotFather\
/token - текущий токен\
/revoke - обновить токен

После обновления токена нужно заново устанавливать webHook.

Я деплоюсь на Heroku: https://dashboard.heroku.com/ \
При деплое переменные окружения задаются в settings вашего проекта + там есть довольно удобный функционал автоматической сборки проекта из репозитория гитхаба.
